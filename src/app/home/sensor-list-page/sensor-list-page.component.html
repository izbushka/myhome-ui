<app-search-button [group]="currentGroup" (searchEvent)="onSearch($event)"></app-search-button>
<div *ngFor="let group of groups | keyvalue">
  <ng-template [ngIf]="!currentGroup || group.key == currentGroup">
    <mat-toolbar>
      <span class="my-flex-grow">{{group.key}}</span>
      <span>
        <mat-icon>{{sensorsService.getGroupIcon(group.key)}}</mat-icon>
      </span>
    </mat-toolbar>
    <div class="my-grid my-margin-bottom">
      <div class="my-grid-cell" *ngFor="let id of group.value"
           [class.my-hidden]="visibleSensors && visibleSensors.indexOf(id) === -1">
        <app-sensor-card [id]="id"></app-sensor-card>
      </div>
    </div>
  </ng-template>
</div>
